# based on https://magento.stackexchange.com/questions/91870/magento-2-folder-file-permissions

sudo find . -type d -exec chmod 770 {} \; && sudo find . -type f -exec chmod 660 {} \; && sudo chmod u+x bin/magento

# https://www.cloudways.com/blog/create-custom-frontend-view-magento-2/
rm -rf var/di var/generation var/cache/* var/log/* var/page_cache/*
php bin/magento setup:upgrade
php bin/magento setup:di:compile
php bin/magento cache:clean
php bin/magento cache:flush
php bin/magento indexer:reindex

#
sudo apachectl -k restart